{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"R:/VIT Research/Research Papers for topics/Stegnography for medical imaging/portalwebsite/gitstego/node_modules/@babel/runtime/regenerator\";\nimport _toConsumableArray from \"R:/VIT Research/Research Papers for topics/Stegnography for medical imaging/portalwebsite/gitstego/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"R:/VIT Research/Research Papers for topics/Stegnography for medical imaging/portalwebsite/gitstego/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"R:\\\\VIT Research\\\\Research Papers for topics\\\\Stegnography for medical imaging\\\\portalwebsite\\\\gitstego\\\\components\\\\FormFiles.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { useRef, useState } from \"react\";\nimport pretty from \"pretty-bytes\";\n\nvar FormFiles = function FormFiles(_ref) {\n  _s();\n\n  var _ref$type = _ref.type,\n      type = _ref$type === void 0 ? \"file\" : _ref$type,\n      multiple = _ref.multiple,\n      accept = _ref.accept,\n      files = _ref.files,\n      setFiles = _ref.setFiles;\n\n  var _useState = useState(false),\n      error = _useState[0],\n      setError = _useState[1];\n\n  var _useState2 = useState(false),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var fileInput = useRef(null);\n\n  var readFile = function readFile(file) {\n    return new Promise(function (resolve, reject) {\n      var reader = new FileReader();\n\n      reader.onload = function () {\n        resolve({\n          contents: reader.result,\n          name: file.name,\n          date: new Date(file.lastModified),\n          size: file.size,\n          type: file.type\n        });\n      };\n\n      reader.onerror = reject;\n      reader.readAsArrayBuffer(file);\n    });\n  };\n\n  var loadFiles = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n      var newFiles;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              _context.prev = 1;\n              _context.next = 4;\n              return Promise.all(_toConsumableArray(event.target.files).map(readFile));\n\n            case 4:\n              newFiles = _context.sent;\n              setError(false);\n              setFiles([].concat(_toConsumableArray(files), _toConsumableArray(newFiles)).reduce(uniqueFiles, []));\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](1);\n              setError(true);\n\n            case 12:\n              setLoading(false);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 9]]);\n    }));\n\n    return function loadFiles(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var uniqueFiles = function uniqueFiles(_uniqueFiles, file) {\n    var exists = _uniqueFiles.find(function (existing) {\n      return existing.name === file.name && existing.lastModified === file.lastModified && existing.size === file.size && existing.type === file.type;\n    });\n\n    return exists ? _uniqueFiles : [].concat(_toConsumableArray(_uniqueFiles), [file]);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"ul\", {\n    className: \"grid grid-cols-1 md:grid-cols-2 gap-8 bg-gray-900 bg-opacity-25 shadow-inner p-8 -mx-8 sm:-mx-4 sm:rounded-lg\",\n    children: [files.map(function (file, index) {\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"relative flex flex-row items-center text-base md:text-lg bg-gray-700 shadow rounded\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"flex-grow py-2 px-4 truncate\",\n          children: file.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"flex-shrink whitespace-nowrap py-2 px-4 text-gray-500\",\n          children: pretty(file.size)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"self-stretch px-3 text-3xl bg-gray-800 bg-opacity-25 hover:bg-opacity-50 focus:outline-none focus-visible:ring ring-blue-500 ring-opacity-50 rounded-r\",\n          type: \"button\",\n          onClick: function onClick() {\n            return setFiles(files.filter(function (_, i) {\n              return i !== index;\n            }));\n          },\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, _this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, _this);\n    }), (files.length === 0 || multiple) && /*#__PURE__*/_jsxDEV(\"li\", {\n      className: \"relative flex flex-row items-center text-base md:text-lg bg-gray-700 shadow rounded\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: accept,\n        onChange: loadFiles,\n        multiple: multiple,\n        hidden: true,\n        ref: fileInput\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"flex-grow py-2 px-4 truncate\",\n        children: [error ? \"Error loading \" : loading ? \"Loading \" : \"Add \", type, multiple && \"s\", loading && \"...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"self-stretch px-3 text-3xl bg-gray-800 bg-opacity-25 hover:bg-opacity-50 focus:outline-none focus-visible:ring ring-blue-500 ring-opacity-50 rounded-r\",\n        type: \"button\",\n        onClick: function onClick() {\n          return fileInput.current.click();\n        },\n        children: [\"+\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"absolute w-full h-full inset-0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 25\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }, _this)]\n    }, files.length + 1, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(FormFiles, \"V39/vc68BQGqF/FcLn6eGKzrPZQ=\");\n\n_c = FormFiles;\nexport default FormFiles;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormFiles\");","map":{"version":3,"sources":["R:/VIT Research/Research Papers for topics/Stegnography for medical imaging/portalwebsite/gitstego/components/FormFiles.js"],"names":["useRef","useState","pretty","FormFiles","type","multiple","accept","files","setFiles","error","setError","loading","setLoading","fileInput","readFile","file","Promise","resolve","reject","reader","FileReader","onload","contents","result","name","date","Date","lastModified","size","onerror","readAsArrayBuffer","loadFiles","event","all","target","map","newFiles","reduce","uniqueFiles","exists","find","existing","index","filter","_","i","length","current","click"],"mappings":"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","sourcesContent":["import { useRef, useState } from \"react\";\r\nimport pretty from \"pretty-bytes\";\r\n\r\nconst FormFiles = ({ type = \"file\", multiple, accept, files, setFiles }) => {\r\n    const [error, setError] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const fileInput = useRef(null);\r\n\r\n    const readFile = (file) => {\r\n        return new Promise((resolve, reject) => {\r\n            const reader = new FileReader();\r\n            reader.onload = () => {\r\n                resolve({\r\n                    contents: reader.result,\r\n                    name: file.name,\r\n                    date: new Date(file.lastModified),\r\n                    size: file.size,\r\n                    type: file.type,\r\n                });\r\n            };\r\n            reader.onerror = reject;\r\n            reader.readAsArrayBuffer(file);\r\n        });\r\n    };\r\n\r\n    const loadFiles = async (event) => {\r\n        setLoading(true);\r\n        try {\r\n            const newFiles = await Promise.all(\r\n                [...event.target.files].map(readFile)\r\n            );\r\n            setError(false);\r\n            setFiles([...files, ...newFiles].reduce(uniqueFiles, []));\r\n        } catch {\r\n            setError(true);\r\n        }\r\n        setLoading(false);\r\n    };\r\n\r\n    const uniqueFiles = (uniqueFiles, file) => {\r\n        const exists = uniqueFiles.find(\r\n            (existing) =>\r\n                existing.name === file.name &&\r\n                existing.lastModified === file.lastModified &&\r\n                existing.size === file.size &&\r\n                existing.type === file.type\r\n        );\r\n\r\n        return exists ? uniqueFiles : [...uniqueFiles, file];\r\n    };\r\n\r\n    return (\r\n        <ul className=\"grid grid-cols-1 md:grid-cols-2 gap-8 bg-gray-900 bg-opacity-25 shadow-inner p-8 -mx-8 sm:-mx-4 sm:rounded-lg\">\r\n            {files.map((file, index) => (\r\n                <li\r\n                    key={index}\r\n                    className=\"relative flex flex-row items-center text-base md:text-lg bg-gray-700 shadow rounded\"\r\n                >\r\n                    <span className=\"flex-grow py-2 px-4 truncate\">\r\n                        {file.name}\r\n                    </span>\r\n                    <span className=\"flex-shrink whitespace-nowrap py-2 px-4 text-gray-500\">\r\n                        {pretty(file.size)}\r\n                    </span>\r\n                    <button\r\n                        className=\"self-stretch px-3 text-3xl bg-gray-800 bg-opacity-25 hover:bg-opacity-50 focus:outline-none focus-visible:ring ring-blue-500 ring-opacity-50 rounded-r\"\r\n                        type=\"button\"\r\n                        onClick={() =>\r\n                            setFiles(files.filter((_, i) => i !== index))\r\n                        }\r\n                    >\r\n                        &times;\r\n                    </button>\r\n                </li>\r\n            ))}\r\n            {(files.length === 0 || multiple) && (\r\n                <li\r\n                    key={files.length + 1}\r\n                    className=\"relative flex flex-row items-center text-base md:text-lg bg-gray-700 shadow rounded\"\r\n                >\r\n                    <input\r\n                        type=\"file\"\r\n                        accept={accept}\r\n                        onChange={loadFiles}\r\n                        multiple={multiple}\r\n                        hidden\r\n                        ref={fileInput}\r\n                    />\r\n                    <span className=\"flex-grow py-2 px-4 truncate\">\r\n                        {error\r\n                            ? \"Error loading \"\r\n                            : loading\r\n                            ? \"Loading \"\r\n                            : \"Add \"}\r\n                        {type}\r\n                        {multiple && \"s\"}\r\n                        {loading && \"...\"}\r\n                    </span>\r\n                    <button\r\n                        className=\"self-stretch px-3 text-3xl bg-gray-800 bg-opacity-25 hover:bg-opacity-50 focus:outline-none focus-visible:ring ring-blue-500 ring-opacity-50 rounded-r\"\r\n                        type=\"button\"\r\n                        onClick={() => fileInput.current.click()}\r\n                    >\r\n                        +\r\n                        <span className=\"absolute w-full h-full inset-0\"></span>\r\n                    </button>\r\n                </li>\r\n            )}\r\n        </ul>\r\n    );\r\n};\r\n\r\nexport default FormFiles;\r\n"]},"metadata":{},"sourceType":"module"}